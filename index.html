<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Cursed Mirror â€” Halloween</title>
  <style>
    body { margin:0; overflow:hidden; background:#000; color:#fff; font-family:sans-serif; text-align:center; }
    #preview { width:100%; height:100vh; object-fit:cover; }
    #buttons { position:absolute; bottom:20px; left:50%; transform:translateX(-50%); display:flex; gap:10px; }
    button { padding:8px 12px; border:none; border-radius:6px; background:#ff3c00; color:#fff; cursor:pointer; }
  </style>
</head>
<body>
  <h1>ðŸªž The Cursed Mirror ðŸ©¸</h1>
  <video id="preview" autoplay playsinline></video>
  <div id="buttons">
    <button data-effect="/FireEffect.zip">Vampire Mask</button>
    <button data-effect="/FireEffect.zip">Monster Mask</button>
  </div>

  <!-- DeepAR Web SDK -->
  <script src="https://cdn.jsdelivr.net/npm/deepar/web/deepar.min.js"></script>
  <script>
    let deepAR;
    const video = document.getElementById("preview");
    const buttons = document.querySelectorAll("button[data-effect]");

    async function startCamera() {
      // DeepAR initialize
      deepAR = await DeepAR.initialize({
        licenseKey: "b76d816da766cc0dafb2481b44a5495123ca9b728fb6ce9dd097dd964c320759ac87dee6feea2458",
        previewElement: video,
        effect: "/FireEffect.zip",
        cameraConfig: { facingMode: "user" } // Ã¶n kamera
      });
      deepAR.start();

      // Butonlarla efekt deÄŸiÅŸtirme
      buttons.forEach(btn => {
        btn.addEventListener("click", () => {
          const path = btn.dataset.effect;
          deepAR.switchEffect(path);
        });
      });
    }

    // Sayfa yÃ¼klendikten sonra baÅŸlat
    window.addEventListener("load", () => {
      startCamera();
    });
  </script>
</body>
</html>
